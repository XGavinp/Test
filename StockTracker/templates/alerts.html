{% extends "base.html"%}
{% load static %}

{% block title %} Alerts {% endblock title %}

{% block content %}
  <style>
    .accordion-item {
    border: 1px solid lightskyblue; /* Set border color to black */
    border-radius: 0.25rem; /* Optional: Add border radius for styling */
  }

      .modal-dialog {
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: calc(100% - 60px); /* Adjust as needed */
      margin-top: 30px; /* Adjust as needed */
      width: 500px; /* Adjust the width as needed */

    }
    .modal-content {
      overflow-y: auto;
      height: 650px; /* Adjust the max-height as needed */
      width: 100%; /* Ensure full width */
    }
    .btn-group.d-flex {
    display: flex;
    justify-content: center;
}
    .btn-group.d-flex .btn {
    margin: 0 5px; /* Adjust the margin as needed */
        background-color: aliceblue;
        color: black;
}
    #displayText {
        font-size: 14px; /* Adjust the font size as needed */
    }

        .input-container {
    display: flex; /* Use flexbox for layout */
    align-items: center; /* Center items vertically */
    margin-bottom: 10px; /* Adjust margin as needed */
  }

  /* Calendar input */
  #expirationDate {
    margin-left: 40px; /* Adjust margin as needed */
  }
    .name-container {
   display: flex; /* Use flexbox for layout */
   align-items: center; /* Center items vertically */
   margin-bottom: 10px; /* Adjust margin as needed */

}
  #name {
      margin-right: 20px; /* Adjust margin as needed */
      

  }

  .form-control {
  flex: 1; /* Grow to fill available space */
}
  .content-container {
    display: flex;
    flex-direction: column;
}




  </style>
<!-- Button trigger modal -->
<button type="button" class="btn btn-primary logo-button" data-bs-toggle="modal" data-bs-target="#exampleModal">
  Launch demo modal
</button>


<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Create Alerts</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
    <div class="btn-group" role="group" aria-label="Basic outlined example">
        <button type="button" class="btn btn-outline-primary active" id="first">Settings</button>
        <button type="button" class="btn btn-outline-primary" id="sec">Notification</button>
    </div>

    <div class="content-container">
        <div id="settingsContent">
            <!-- Content for Settings -->
             
      <div class="accordion" id="accordionExample">
  <div class="accordion-item">
    <h2 class="accordion-header" id="headingOne">
      <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
        Create Alert On
      </button>
    </h2>
    <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne" data-bs-parent="#accordionExample" >
      <div class="accordion-body">
          <div class="accordion-body">
    <ul>
        <h6>NIFTY</h6>
        <hr>
        <h6>Bank</h6>
        <hr>
        <h6>Sensex</h6>
        <hr>
        <h6>S&P</h6>
    </ul>
</div>

      </div>
    </div>
  </div>
  <div class="accordion-item">
    <h2 class="accordion-header" id="headingTwo">
      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
        Select Trend
      </button>
    </h2>
    <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#accordionExample">
      <div class="accordion-body">
          <ul>
        <h6>UP</h6>
        <hr>
        <h6>Down</h6>
        <hr>
        <h6>Greater Than</h6>
        <hr>
        <h6>Less Than</h6>
    </ul>
      </div>
    </div>
  </div>
          
          <br>
   <label for="integerInput"><h6>Price :</h6></label>
    <input type="number" id="integerInput" name="integerInput" min="0" step="1" placeholder="21782.50">
</div>
      <br>
      <hr>
      <h6>Trigger</h6>
      <br>
      <div class="btn-group d-flex justify-content-between" role="group" aria-label="Basic example">
  <button type="button" class="btn btn-primary" id="myButton">Only Once</button>
  <button type="button" class="btn btn-primary" id="myButton2">Every Time</button>
</div>
      <br>
      <div id="displayText"></div>
      <br>
     <div class="input-container">
         <h6>Expiration :</h6>
  <input type="date" id="expirationDate" name="expirationDate">

</div>
      <br>
      <hr>
      <div class="name-container">
  <label for="exampleFormControlInput1" class="form-label" id="name"><br><h6>Alert Name :</h6></label>
  <input type="text" class="form-control" id="exampleFormControlInput1" placeholder="eg: Nifty Alert">
</div>
<div class="message-container">
  <label for="exampleFormControlTextarea1" class="form-label"><h6>Message</h6></label>
  <textarea class="form-control" id="exampleFormControlTextarea1" rows="3" placeholder="message"></textarea>
</div>
        </div>

        <div id="notificationContent" style="display: none;">
            <!-- Content for Notification -->
            <h4>Notification Content</h4>
            <p>This is the content for Notification.</p>
        </div>
    </div>
</div>
    
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary"id="save">Save changes</button>
      </div>
    </div>
  </div>
</div>

<!-- Bootstrap Bundle with Popper.js and Bootstrap JS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.11.6/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/5.1.3/js/bootstrap.min.js"></script>
<script>
// Get a reference to the button element
var button = document.getElementById("myButton");
var button2 = document.getElementById("myButton2");


// Add a click event listener to the button
button.addEventListener("click", function() {
    // Get a reference to the displayText element
    var displayText = document.getElementById("displayText");
    // Set the text content of the displayText element
    displayText.textContent = "The Alert will only trigger once and will not be repeated.";
});

// Add a click event listener to the button
button2.addEventListener("click", function() {
    // Get a reference to the displayText element
    var displayText = document.getElementById("displayText");
    // Set the text content of the displayText element
    displayText.textContent = "The Alert will every time the condition is met,but not more than 1 time per minute";
});

</script>
<script>
  // Function to get the expiration date as the same day of the next month
  function getNextMonthDate() {
    var currentDate = new Date();
    var nextMonthDate = new Date(currentDate.getFullYear(), currentDate.getMonth() + 1, currentDate.getDate()+1);
    return nextMonthDate;
  }

  // Set the value of the input field to the expiration date
  document.getElementById("expirationDate").valueAsDate = getNextMonthDate();
</script>
<script>
// Get references to the buttons and content divs
var firstButton = document.getElementById("first");
var secButton = document.getElementById("sec");
var settingsContent = document.getElementById("settingsContent");
var notificationContent = document.getElementById("notificationContent");

// Add event listeners to the buttons
firstButton.addEventListener("click", function() {
    // Show settings content and hide notification content
    settingsContent.style.display = "block";
    notificationContent.style.display = "none";
});

secButton.addEventListener("click", function() {
    // Show notification content and hide settings content
    settingsContent.style.display = "none";
    notificationContent.style.display = "block";
});
</script>
<script>
document.getElementById("save").addEventListener("click", function() {
    // Call the email_alert function with the desired parameters
    email_alert("Alert Subject", "Alert Body", "recipient@example.com", "YOUR_API_KEY", ["image_path1.jpg", "image_path2.jpg"]);
});
</script>

{% endblock %}